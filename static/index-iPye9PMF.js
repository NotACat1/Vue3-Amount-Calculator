const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/NotFoundView-DAGLtLE0.js","static/vue-CN9YiJDf.js","static/vendor-BKImTIND.js","static/vendor-COn20UU0.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{d as a,r as s,o as l,a as r,c as o,n,b as c,e as i,f as u,t as d,g as m,h as v,w as p,v as g,i as f,j as y,k as b,l as h,F as w,m as S,p as _,q as E,s as L}from"./vue-CN9YiJDf.js";import"./vendor-BKImTIND.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const P=(e,t)=>{const a=e.__vccOpts||e;for(const[s,l]of t)a[s]=l;return a},O=P(a({__name:"AppHeader",setup(e){const t=s(!1);let a=0;const u=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;e<0||Math.abs(e-a)<50||(t.value=e>a&&e>50,a=e)};return l((()=>{window.addEventListener("scroll",u)})),r((()=>{window.removeEventListener("scroll",u)})),(e,a)=>(i(),o("header",{class:n(["header fixed-top bg-primary text-white p-3 shadow-sm transition-all",{"header--hidden":t.value}])},a[0]||(a[0]=[c("div",{class:"container d-flex justify-content-between align-items-center"},[c("div",null,[c("h1",{class:"h4 mb-0"},"Trading calculator"),c("small",{class:"d-block text-white-50"},"Strategy: LocalStorage")])],-1)]),2))}}),[["__scopeId","data-v-d5da3ea7"]]),I={class:"bg-dark text-white py-4 mt-auto"},x={class:"container text-center"},T={class:"mb-0"},A=a({__name:"AppFooter",setup(e){const t=s((new Date).getFullYear());return(e,a)=>(i(),o("footer",I,[c("div",x,[a[0]||(a[0]=c("p",{class:"mb-2"},[u("Current storage strategy: "),c("strong",null,"LocalStorage")],-1)),c("p",T,"Â© "+d(t.value)+" Trading calculator. All rights reserved.",1)])]))}}),C={class:"app-container"},F={class:"flex-grow-1 py-5"},k={class:"container"},D=P(a({__name:"App",setup:e=>(e,t)=>{const a=v("router-view");return i(),o("div",C,[m(O),c("main",F,[c("div",k,[m(a)])]),m(A)])}}),[["__scopeId","data-v-4c71132b"]]),N={};class j{static set(e,t){try{const a=JSON.stringify(t);localStorage.setItem(`${this.PREFIX}${e}`,a)}catch(a){}}static get(e,t=null){try{const a=localStorage.getItem(`${this.PREFIX}${e}`);return null===a?t:JSON.parse(a)}catch(a){return t}}static remove(e){localStorage.removeItem(`${this.PREFIX}${e}`)}static clearAll(){Object.keys(localStorage).filter((e=>e.startsWith(this.PREFIX))).forEach((e=>localStorage.removeItem(e)))}static has(e){return null!==localStorage.getItem(`${this.PREFIX}${e}`)}}t(j,"PREFIX","trading_calculator_");const R=new class{constructor(){t(this,"KEY","storage")}load(){const e=j.get(this.KEY,"");return e?JSON.parse(e):[]}save(e){const t=this.load(),a=t.at(-1),s={...e,Counter:a?a.Counter+1:1},l=[...t,s];return j.set(this.KEY,JSON.stringify(l)),s}};class V{static async save(e){return new Promise((t=>{setTimeout((()=>{if(e.Total%2==0){const a=R.save(e);t({success:!0,message:"Data saved successfully.",data:a,timestamp:Date.now()})}else t({success:!1,message:"Failed to save: Total is not even.",data:null,timestamp:Date.now()})}),1e3)}))}static async load(){return new Promise((e=>{setTimeout((()=>{const t=R.load();e({success:!0,message:"Data loaded successfully.",data:t,timestamp:Date.now()})}),1e3)}))}}const $=class e{static log(t,a,s){const l={timestamp:new Date,level:t,message:a,context:s};e.logs.push(l),e.logs.length>e.MAX_LOGS&&(e.logs=e.logs.slice(-100)),e.saveLogs()}static getLogs(){return[...e.logs]}static clear(){e.logs=[],j.remove(e.STORAGE_KEY)}static saveLogs(){const t=e.logs.map((e=>({...e,timestamp:e.timestamp.toISOString()})));j.set(e.STORAGE_KEY,t)}static loadLogs(){const t=j.get(e.STORAGE_KEY,[]);return Array.isArray(t)?t.map((e=>({...e,timestamp:new Date(e.timestamp??new Date)}))):[]}};t($,"STORAGE_KEY","logs"),t($,"MAX_LOGS",100),t($,"logs",$.loadLogs());let q=$;const Q={class:"col-12 mt-5"},Y={class:"row mb-3"},K={class:"col-md-3"},X={class:"form-text"},U={class:"col-md-3"},G={class:"form-text"},J={class:"col-md-3"},M={class:"form-text"},H=["disabled"],W={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},B={class:"mt-4 card"},z={class:"card-body"},Z={class:"mt-3 card"},ee={class:"card-body"},te=P(a({__name:"OrderForm",setup(e){const t=s({Price:0,Quantity:1,Total:0}),a=s(!1),r=s(null),n=s(""),m=s([]),v=()=>{t.value.Total=t.value.Price*t.value.Quantity},b=async()=>{a.value=!0,r.value=null,n.value="";try{q.log("info","Submitting request",t.value);const e=await V.save(t.value);e.success&&e.data?(r.value="success",n.value=e.message||"Order submitted successfully!",q.log("info",n.value),await h()):(r.value="error",n.value=e.message||"Failed to submit order.",q.log("error",n.value))}catch(e){r.value="error",n.value="Failed to submit order. Please try again.",q.log("error",n.value,e)}finally{a.value=!1}},h=async()=>{try{q.log("info","Loading data from localStorage");const e=await V.load();e.success&&e.data&&(m.value=e.data),q.log("info","Data loaded",e.data)}catch(e){q.log("error","Error loading data",e)}};return l((async()=>{if(await h(),m.value.length>0){const e=m.value[m.value.length-1];t.value={Price:(null==e?void 0:e.Price)||0,Quantity:(null==e?void 0:e.Quantity)||1,Total:(null==e?void 0:e.Total)||0},v()}})),(e,s)=>(i(),o("div",Q,[s[8]||(s[8]=c("h1",{class:"mb-4"},"Order Form",-1)),c("form",{onSubmit:y(b,["prevent"])},[c("div",Y,[c("div",K,[s[3]||(s[3]=c("label",{for:"price",class:"form-label"},"Price:",-1)),p(c("input",{id:"price","onUpdate:modelValue":s[0]||(s[0]=e=>t.value.Price=e),type:"number",class:"form-control",step:"0.01",min:"0",required:"",onInput:v},null,544),[[g,t.value.Price,void 0,{number:!0}]]),c("div",X,"Current Price: "+d(t.value.Price),1)]),c("div",U,[s[4]||(s[4]=c("label",{for:"quantity",class:"form-label"},"Quantity:",-1)),p(c("input",{id:"quantity","onUpdate:modelValue":s[1]||(s[1]=e=>t.value.Quantity=e),type:"number",class:"form-control",min:"1",required:"",onInput:v},null,544),[[g,t.value.Quantity,void 0,{number:!0}]]),c("div",G,"Current Quantity: "+d(t.value.Quantity),1)]),c("div",J,[s[5]||(s[5]=c("label",{for:"total",class:"form-label"},"Total:",-1)),p(c("input",{id:"total","onUpdate:modelValue":s[2]||(s[2]=e=>t.value.Total=e),type:"number",class:"form-control",readonly:""},null,512),[[g,t.value.Total,void 0,{number:!0}]]),c("div",M,"Current Total: "+d(t.value.Total),1)]),c("button",{type:"submit",class:"btn btn-primary col-md-3",disabled:a.value},[a.value?(i(),o("span",W)):f("",!0),u(" "+d(a.value?"Submitting...":"Submit Order"),1)],8,H)])],32),c("div",B,[s[6]||(s[6]=c("div",{class:"card-header"},"Form Data State",-1)),c("div",z,[c("pre",null,d(t.value),1)])]),c("div",Z,[s[7]||(s[7]=c("div",{class:"card-header"},"LocalStorage State",-1)),c("div",ee,[c("pre",null,d(m.value),1)])])]))}}),[["__scopeId","data-v-d65615c4"]]),ae={class:"card col-12 mt-4"},se={class:"card-body"},le={class:"row mb-3"},re={class:"col-md-4"},oe={class:"col-md-8"},ne={class:"list-group log-list"},ce={class:"d-flex justify-content-between"},ie={class:"badge bg-secondary me-2"},ue={key:0,class:"small text-muted mt-2 mb-0"},de={key:0,class:"list-group-item text-muted"},me=P(a({__name:"LogViewer",setup(e){const t=s([]),a=s(""),m=s(""),v=()=>{t.value=q.getLogs().slice().reverse()},y=()=>{q.clear(),v()},_=e=>{try{return JSON.stringify(e,null,2)}catch{return String(e)}},E=e=>{switch(e){case"info":return"badge bg-info";case"warn":return"badge bg-warning text-dark";case"error":return"badge bg-danger";default:return"badge bg-secondary"}},L=b((()=>t.value.filter((e=>{const t=!a.value||e.level===a.value,s=!m.value||e.message.toLowerCase().includes(m.value.toLowerCase())||e.context&&JSON.stringify(e.context).toLowerCase().includes(m.value.toLowerCase());return t&&s}))));let P;return l((()=>{v(),P=window.setInterval(v,1e3)})),r((()=>{clearInterval(P)})),(e,t)=>(i(),o("div",ae,[c("div",{class:"card-header d-flex justify-content-between align-items-center"},[t[2]||(t[2]=c("h2",{class:"mb-0"},"System Logs",-1)),c("button",{class:"btn btn-sm btn-danger",onClick:y},"Clear")]),c("div",se,[c("div",le,[c("div",re,[p(c("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),class:"form-select"},t[3]||(t[3]=[c("option",{value:""},"All levels",-1),c("option",{value:"info"},"Info",-1),c("option",{value:"warn"},"Warn",-1),c("option",{value:"error"},"Error",-1)]),512),[[h,a.value]])]),c("div",oe,[p(c("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),type:"text",class:"form-control",placeholder:"Search by message..."},null,512),[[g,m.value]])])]),c("ul",ne,[(i(!0),o(w,null,S(L.value,((e,t)=>{return i(),o("li",{key:t,class:"list-group-item"},[c("div",ce,[c("div",null,[c("span",ie,d((a=e.timestamp,new Date(a).toLocaleString())),1),c("span",{class:n([E(e.level),"me-2"])},d(e.level.toUpperCase()),3),u(" "+d(e.message),1)])]),e.context?(i(),o("pre",ue,d(_(e.context)),1)):f("",!0)]);var a})),128)),0===L.value.length?(i(),o("li",de," No logs matching the criteria. ")):f("",!0)])])]))}}),[["__scopeId","data-v-8505fe35"]]),ve=[{path:"/",name:"Home",component:a({__name:"HomeView",setup:e=>(e,t)=>(i(),o(w,null,[m(te),m(me)],64))})},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>function(e,t){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(null==s?void 0:s.nonce)||(null==s?void 0:s.getAttribute("nonce"));a=e(t.map((e=>{if((e=function(e){return"/Vue3-Amount-Calculator/"+e}(e))in N)return;N[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,l&&s.setAttribute("nonce",l),document.head.appendChild(s),t?new Promise(((t,a)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then((t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)}))}((()=>import("./NotFoundView-DAGLtLE0.js")),__vite__mapDeps([0,1,2,3]))}],pe=_({history:E("/Vue3-Amount-Calculator/"),routes:ve}),ge=L(D);ge.use(pe),ge.mount("#app");export{P as _};
